TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER `bi_parents_parent_role`\nBEFORE INSERT ON `parents` FOR EACH ROW\nBEGIN\n  IF (SELECT role FROM users WHERE id = NEW.parent_user_id) <> \'Parent\' THEN\n    SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'parent_user_id must be a Parent user\';\n  END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `bi_parents_staff_role`\nBEFORE INSERT ON `parents` FOR EACH ROW\nBEGIN\n  IF (SELECT role FROM users WHERE id = NEW.assigned_staff_user_id) <> \'Staff\' THEN\n    SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'assigned_staff_user_id must be a Staff user\';\n  END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `bu_parents_parent_role`\nBEFORE UPDATE ON `parents` FOR EACH ROW\nBEGIN\n  IF (SELECT role FROM users WHERE id = NEW.parent_user_id) <> \'Parent\' THEN\n    SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'parent_user_id must be a Parent user\';\n  END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `bu_parents_staff_role`\nBEFORE UPDATE ON `parents` FOR EACH ROW\nBEGIN\n  IF (SELECT role FROM users WHERE id = NEW.assigned_staff_user_id) <> \'Staff\' THEN\n    SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'assigned_staff_user_id must be a Staff user\';\n  END IF;\nEND'
sql_modes=1077936128 1077936128 1077936128 1077936128
definers='root@localhost' 'root@localhost' 'root@localhost' 'root@localhost'
client_cs_names='utf8mb4' 'utf8mb4' 'utf8mb4' 'utf8mb4'
connection_cl_names='utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci'
db_cl_names='utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci'
created=1759337461451531 1759337461490647 1759337461471400 1759337461506983
